<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #000000;
            color: #FFFF00;
            font-family: Arial, sans-serif;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #FFFF00;
        }
        
        .description {
            color: #cccc00;
            margin-bottom: 30px;
        }
        
        .form-section {
            background-color: #111111;
            padding: 30px;
            border-radius: 10px;
            border: 2px solid #333300;
            margin-bottom: 30px;
        }
        
        h2 {
            color: #FFFF00;
            margin-bottom: 20px;
            border-left: 4px solid #FFFF00;
            padding-left: 15px;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #FFFF00;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px;
            background-color: #000000;
            color: #FFFF00;
            border: 2px solid #333300;
            border-radius: 5px;
            font-size: 14px;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #FFFF00;
        }
        
        .items-section {
            margin-top: 30px;
        }
        
        .item-row {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr auto;
            gap: 10px;
            margin-bottom: 15px;
            align-items: end;
        }
        
        .remove-btn {
            background-color: #FF4444;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
        }
        
        .buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        button {
            background-color: #FFFF00;
            color: #000000;
            border: none;
            padding: 15px 25px;
            font-size: 16px;
            font-weight: bold;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            flex: 1;
            min-width: 150px;
        }
        
        button:hover {
            background-color: #cccc00;
        }
        
        .preview-section {
            background-color: #111111;
            padding: 30px;
            border-radius: 10px;
            border: 2px solid #333300;
            margin-top: 30px;
        }
        
        .invoice-preview {
            background: white;
            color: #000000;
            padding: 30px;
            border-radius: 5px;
            min-height: 400px;
        }
        
        .invoice-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #333;
        }
        
        .invoice-title {
            font-size: 2em;
            font-weight: bold;
            color: #000;
        }
        
        .invoice-details {
            text-align: right;
        }
        
        .from-to {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .items-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }
        
        .items-table th {
            background-color: #333;
            color: white;
            padding: 12px;
            text-align: left;
            border: 1px solid #ddd;
        }
        
        .items-table td {
            padding: 12px;
            border: 1px solid #ddd;
        }
        
        .text-right {
            text-align: right;
        }
        
        .text-center {
            text-align: center;
        }
        
        .totals {
            margin-left: auto;
            width: 300px;
        }
        
        .total-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #ddd;
        }
        
        .grand-total {
            font-size: 1.2em;
            font-weight: bold;
            border-bottom: 2px solid #000;
        }
        
        .invoice-footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            text-align: center;
            color: #666;
        }
        
        .add-item-btn {
            background-color: #333300;
            color: #FFFF00;
            border: 1px solid #666600;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
        
        .add-item-btn:hover {
            background-color: #666600;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ§¾ Invoice Generator</h1>
            <p class="description">Create professional invoices instantly</p>
        </header>
        
        <div class="form-section">
            <h2>Invoice Information</h2>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="invoiceNumber">Invoice Number</label>
                    <input type="text" id="invoiceNumber" value="INV-2024-001">
                </div>
                
                <div class="form-group">
                    <label for="invoiceDate">Invoice Date</label>
                    <input type="date" id="invoiceDate" value="<?php echo date('Y-m-d'); ?>">
                </div>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="fromName">From (Your Name/Company)</label>
                    <input type="text" id="fromName" placeholder="Your Company Name">
                </div>
                
                <div class="form-group">
                    <label for="fromAddress">From Address</label>
                    <textarea id="fromAddress" rows="3" placeholder="Your address"></textarea>
                </div>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="toName">To (Client Name/Company)</label>
                    <input type="text" id="toName" placeholder="Client Company Name">
                </div>
                
                <div class="form-group">
                    <label for="toAddress">To Address</label>
                    <textarea id="toAddress" rows="3" placeholder="Client address"></textarea>
                </div>
            </div>
            
            <div class="items-section">
                <h2>Items & Services</h2>
                <div id="itemsContainer">
                    <div class="item-row">
                        <input type="text" class="item-desc" placeholder="Item description">
                        <input type="number" class="item-qty" placeholder="Qty" value="1" min="1">
                        <input type="number" class="item-price" placeholder="Price" step="0.01">
                        <input type="text" class="item-total" placeholder="Total" readonly>
                        <button class="remove-btn" onclick="removeItem(this)">Ã—</button>
                    </div>
                </div>
                <button type="button" class="add-item-btn" onclick="addItem()">+ Add Item</button>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="notes">Notes</label>
                    <textarea id="notes" rows="3" placeholder="Thank you for your business!"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="terms">Terms & Conditions</label>
                    <textarea id="terms" rows="3" placeholder="Payment due in 30 days"></textarea>
                </div>
            </div>
            
            <div class="buttons">
                <button onclick="generateInvoice()">Generate Invoice</button>
                <button onclick="printInvoice()">Print Invoice</button>
                <button onclick="downloadPDF()">Download PDF</button>
                <button onclick="clearForm()">Clear Form</button>
            </div>
        </div>
        
        <div class="preview-section">
            <h2>Invoice Preview</h2>
            <div class="invoice-preview" id="invoicePreview">
                <div style="text-align: center; color: #666; padding: 50px;">
                    <h3>Invoice preview will appear here</h3>
                    <p>Fill out the form above and click "Generate Invoice"</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let itemCount = 1;
        
        function addItem() {
            itemCount++;
            const itemsContainer = document.getElementById('itemsContainer');
            const newItem = document.createElement('div');
            newItem.className = 'item-row';
            newItem.innerHTML = `
                <input type="text" class="item-desc" placeholder="Item description">
                <input type="number" class="item-qty" placeholder="Qty" value="1" min="1">
                <input type="number" class="item-price" placeholder="Price" step="0.01">
                <input type="text" class="item-total" placeholder="Total" readonly>
                <button class="remove-btn" onclick="removeItem(this)">Ã—</button>
            `;
            itemsContainer.appendChild(newItem);
            
            // Add event listeners to new inputs
            const inputs = newItem.querySelectorAll('.item-qty, .item-price');
            inputs.forEach(input => {
                input.addEventListener('input', calculateItemTotal);
            });
        }
        
        function removeItem(button) {
            if (document.querySelectorAll('.item-row').length > 1) {
                button.parentElement.remove();
                calculateTotals();
            }
        }
        
        function calculateItemTotal() {
            const row = this.closest('.item-row');
            const qty = parseFloat(row.querySelector('.item-qty').value) || 0;
            const price = parseFloat(row.querySelector('.item-price').value) || 0;
            const total = qty * price;
            row.querySelector('.item-total').value = total.toFixed(2);
            calculateTotals();
        }
        
        function calculateTotals() {
            let subtotal = 0;
            document.querySelectorAll('.item-row').forEach(row => {
                const total = parseFloat(row.querySelector('.item-total').value) || 0;
                subtotal += total;
            });
            
            // You can add tax calculation here if needed
            const tax = 0; // Example: subtotal * 0.1 for 10% tax
            const grandTotal = subtotal + tax;
            
            return { subtotal, tax, grandTotal };
        }
        
        function generateInvoice() {
            const invoiceNumber = document.getElementById('invoiceNumber').value || 'INV-2024-001';
            const invoiceDate = document.getElementById('invoiceDate').value || new Date().toISOString().split('T')[0];
            const fromName = document.getElementById('fromName').value || 'Your Company';
            const fromAddress = document.getElementById('fromAddress').value || 'Your Address';
            const toName = document.getElementById('toName').value || 'Client Company';
            const toAddress = document.getElementById('toAddress').value || 'Client Address';
            const notes = document.getElementById('notes').value || 'Thank you for your business!';
            const terms = document.getElementById('terms').value || 'Payment due in 30 days';
            
            const { subtotal, tax, grandTotal } = calculateTotals();
            
            // Get items
            let itemsHTML = '';
            document.querySelectorAll('.item-row').forEach(row => {
                const desc = row.querySelector('.item-desc').value || 'Item';
                const qty = row.querySelector('.item-qty').value || '1';
                const price = parseFloat(row.querySelector('.item-price').value) || 0;
                const total = parseFloat(row.querySelector('.item-total').value) || 0;
                
                if (desc && price > 0) {
                    itemsHTML += `
                        <tr>
                            <td>${desc}</td>
                            <td class="text-center">${qty}</td>
                            <td class="text-right">$${price.toFixed(2)}</td>
                            <td class="text-right">$${total.toFixed(2)}</td>
                        </tr>
                    `;
                }
            });
            
            const invoiceHTML = `
                <div class="invoice-header">
                    <div>
                        <div class="invoice-title">INVOICE</div>
                        <div><strong>${fromName}</strong></div>
                        <div style="white-space: pre-line;">${fromAddress}</div>
                    </div>
                    <div class="invoice-details">
                        <div><strong>Invoice #:</strong> ${invoiceNumber}</div>
                        <div><strong>Date:</strong> ${new Date(invoiceDate).toLocaleDateString()}</div>
                    </div>
                </div>
                
                <div class="from-to">
                    <div>
                        <strong>From:</strong><br>
                        ${fromName}<br>
                        <span style="white-space: pre-line;">${fromAddress}</span>
                    </div>
                    <div>
                        <strong>To:</strong><br>
                        ${toName}<br>
                        <span style="white-space: pre-line;">${toAddress}</span>
                    </div>
                </div>
                
                <table class="items-table">
                    <thead>
                        <tr>
                            <th>Description</th>
                            <th width="80">Qty</th>
                            <th width="100">Unit Price</th>
                            <th width="120">Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${itemsHTML}
                    </tbody>
                </table>
                
                <div class="totals">
                    <div class="total-row">
                        <span>Subtotal:</span>
                        <span>$${subtotal.toFixed(2)}</span>
                    </div>
                    <div class="total-row">
                        <span>Tax (0%):</span>
                        <span>$${tax.toFixed(2)}</span>
                    </div>
                    <div class="total-row grand-total">
                        <span>Grand Total:</span>
                        <span>$${grandTotal.toFixed(2)}</span>
                    </div>
                </div>
                
                <div class="invoice-footer">
                    <div style="margin-bottom: 10px;"><strong>Notes:</strong><br>${notes}</div>
                    <div><strong>Terms:</strong><br>${terms}</div>
                </div>
            `;
            
            document.getElementById('invoicePreview').innerHTML = invoiceHTML;
        }
        
        function printInvoice() {
            const invoiceContent = document.getElementById('invoicePreview').innerHTML;
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Print Invoice</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        .invoice-header { display: flex; justify-content: space-between; margin-bottom: 30px; }
                        .from-to { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
                        table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
                        th, td { padding: 12px; border: 1px solid #ddd; text-align: left; }
                        .text-right { text-align: right; }
                        .text-center { text-align: center; }
                        .totals { margin-left: auto; width: 300px; }
                        .total-row { display: flex; justify-content: space-between; padding: 8px 0; }
                        .grand-total { font-weight: bold; border-top: 2px solid #000; }
                        @media print { body { margin: 0; } }
                    </style>
                </head>
                <body>${invoiceContent}</body>
                </html>
            `);
            printWindow.document.close();
            printWindow.print();
        }
        
        function downloadPDF() {
            alert('PDF download functionality would require a server-side component or JavaScript library like jsPDF.');
            // For full PDF functionality, you'd need to integrate with a library like jsPDF
        }
        
        function clearForm() {
            if (confirm('Are you sure you want to clear all fields?')) {
                document.getElementById('invoiceNumber').value = 'INV-2024-001';
                document.getElementById('invoiceDate').value = new Date().toISOString().split('T')[0];
                document.getElementById('fromName').value = '';
                document.getElementById('fromAddress').value = '';
                document.getElementById('toName').value = '';
                document.getElementById('toAddress').value = '';
                document.getElementById('notes').value = '';
                document.getElementById('terms').value = '';
                
                const itemsContainer = document.getElementById('itemsContainer');
                itemsContainer.innerHTML = `
                    <div class="item-row">
                        <input type="text" class="item-desc" placeholder="Item description">
                        <input type="number" class="item-qty" placeholder="Qty" value="1" min="1">
                        <input type="number" class="item-price" placeholder="Price" step="0.01">
                        <input type="text" class="item-total" placeholder="Total" readonly>
                        <button class="remove-btn" onclick="removeItem(this)">Ã—</button>
                    </div>
                `;
                
                document.getElementById('invoicePreview').innerHTML = `
                    <div style="text-align: center; color: #666; padding: 50px;">
                        <h3>Invoice preview will appear here</h3>
                        <p>Fill out the form above and click "Generate Invoice"</p>
                    </div>
                `;
                
                // Re-add event listeners
                document.querySelectorAll('.item-qty, .item-price').forEach(input => {
                    input.addEventListener('input', calculateItemTotal);
                });
            }
        }
        
        // Initialize event listeners
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.item-qty, .item-price').forEach(input => {
                input.addEventListener('input', calculateItemTotal);
            });
            
            // Set default date to today
            document.getElementById('invoiceDate').value = new Date().toISOString().split('T')[0];
        });
    </script>
</body>
</html>
